<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>지갑 연결</title>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.8.0/dist/ethers.min.js"></script>
  </head>
  <body style="text-align:center; padding-top:50px;">
    <h2>Web3 지갑 연결</h2>
    <button onclick="connect()" style="font-size:20px;padding:10px 30px;">지갑 연결 및 서명</button>

    <script>
      async function connect() {
        if (!window.ethereum) {
          alert("MetaMask 앱의 브라우저에서 이 페이지를 열어주세요.");
          return;
        }

        const provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        const signer = provider.getSigner();
        const address = await signer.getAddress();
        const message = "이 계약서에 동의하여 서명합니다.";
        const signature = await signer.signMessage(message);

        alert("서명 완료!\n주소: " + address + "\n서명: " + signature);
      }
    </script>
  </body>
</html>